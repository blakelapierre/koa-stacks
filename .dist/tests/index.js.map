{"version":3,"sources":["tests/index.ts"],"names":[],"mappings":";;;;;;;;;;;IAAA,6BAA6B;IAE7B,0BAAyB;IAEzB,6CAA6C;IAE7C,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;IAEtC,MAAM,EACJ,IAAI,EACL,GAAG,UAAM,CAAC;QACT,IAAI,EAAE;YACJ,UAAU,EAAE,CAAC,UAAU,EAAE,CAAC;YAC1B,MAAM,EAAE;gBACN,OAAO,EAAE;oBACP,OAAO,EAAE;wBACP,KAAK,EAAE,QAAS,CAAC;4BACf,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;4BACnB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACvB,CAAC;qBACF;iBACF;gBACD,uBAAuB,EAAE;oBACvB,OAAO,EAAE;wBACP,KAAK,EAAE,QAAS,CAAC,EAAC,KAAK;4BACrB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;4BAClB,OAAO,CAAC,GAAG,CAAC,kBAAkB,KAAK,EAAE,CAAC,CAAC;wBACzC,CAAC;qBACF;iBACF;gBACD,YAAY,EAAE;oBACZ,aAAa,EAAE;wBACb,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,UAAU;qBACjB;oBACD,OAAO,EAAE;wBACP,KAAK,EAAE,QAAS,CAAC;4BACf,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC;4BAC1B,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAC5B,CAAC;qBACF;iBACF;aACF;SACF;KACF,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IAEhB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAEpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAChD,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC,CAAC","file":"index.js","sourcesContent":["import * as http from 'http';\n\nimport stacks from '../';\n\nimport * as bodyparser from 'koa-bodyparser';\n\nconst port = process.env.port || 9999;\n\nconst {\n  test\n} = stacks({\n  test: {\n    middleware: [bodyparser()],\n    routes: {\n      '/test': {\n        methods: {\n          'get': function *() {\n            this.body = 'test';\n            console.log('/test');\n          }\n        }\n      },\n      '/parameterized/:param': {\n        methods: {\n          'get': function *(param) {\n            this.body = param;\n            console.log(`/parameterized/${param}`);\n          }\n        }\n      },\n      '/protected': {\n        authorization: {\n          type: 'basic',\n          name: 'by',\n          pass: 'password'\n        },\n        methods: {\n          'get': function *() {\n            this.body = 'authorized!';\n            console.log('/protected');\n          }\n        }\n      }\n    }\n  }\n}, console.log);\n\nconsole.log('test');\n\nhttp.createServer(test.callback()).listen(port);\nconsole.log('HTTP server listing on port', port);"]}